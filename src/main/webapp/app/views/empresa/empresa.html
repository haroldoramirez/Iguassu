<div class="view"  ng-init="init()">
    <!-- data-ng-controller="EmpresaCtrl" -->
    <div class="page-header">
        <h1>Empresas</h1>
    </div>

    <div class="container-fluid" ng-include="'views/empresa/empresa_ferramentas.html'"></div>

    <accordion close-others="isOpen">

        <div style="margin-bottom: 5px;" ng-include="'views/empresa/empresa_dados.html'"></div>

        <div style="margin-bottom: 5px;" ng-include="'views/empresa/empresa_endereco.html'"></div>

    </accordion>

    <!-- Menu da consultar -->
    <div class="col-xs-12 col-sm-12">
        <div class="btn-group btn-group-justified">
            <div class="btn-group">
                <button type="button"
                        class="btn btn-default"
                        data-ng-click="getEmpresa();">
                    <span class="glyphicon glyphicon-search">&nbspConsultar</span>
                </button>
            </div>
            <div class="btn-group">
                <button type="button"
                        class="btn btn-primary"
                        data-ng-disabled="empresa.nome==null"
                        data-ng-click="save();">
                    <span class="glyphicon glyphicon-save">&nbspSalvar</span>
                </button>
            </div>
            <div class="btn-group">
                <button type="button"
                        class="btn btn-default"
                        data-ng-click="limpar()">
                    <span class="glyphicon glyphicon-file">&nbspLimpar</span>
                </button>
            </div>
        </div>

        <br/>

        <div ng-include="'views/progress.html'"></div>

        <table class="table table-hover">
            <tr>
                <th>Nome</th>
                <th>CNPJ</th>
                <th>Rua</th>
                <th>NÃºmero</th>
                <th>Bairro</th>
                <th></th>
            </tr>
            <tr data-ng-repeat="empresa in empresas">
                <td data-ng-click="isOpen = false; panel.open1 = true; panel.open2 = true; editEmpresa(empresa)" >{{empresa.nome}}</td>
                <td data-ng-click="isOpen = false; panel.open1 = true; panel.open2 = true; editEmpresa(empresa)">{{empresa.cnpj}}</td>
                <td data-ng-click="isOpen = false; panel.open1 = true; panel.open2 = true; editEmpresa(empresa)">{{empresa.endereco.rua}}</td>
                <td data-ng-click="isOpen = false; panel.open1 = true; panel.open2 = true; editEmpresa(empresa)">{{empresa.endereco.numero}}</td>
                <td data-ng-click="isOpen = false; panel.open1 = true; panel.open2 = true; editEmpresa(empresa)" data-ng-show="empresa.endereco.bairro.id">{{empresa.endereco.bairro.nome}} / {{empresa.endereco.bairro.cidade.nome}} / {{empresa.endereco.bairro.cidade.estado.nome}} / {{empresa.endereco.bairro.cidade.estado.pais.nome}}</td>
                <td data-ng-click="isOpen = false; panel.open1 = true; panel.open2 = true; editEmpresa(empresa)" data-ng-hide="empresa.endereco.bairro.id"></td>
                <!-- 		 <td data-ng-show="view==1||!view">{{empresa.bairro.nome}} / {{empresa.bairro.cidade.nome}} / {{empresa.bairro.cidade.estado.nome}} / {{empresa.bairro.cidade.estado.pais.nome}}</td> -->
                <!-- 				<td data-ng-show="view==2">{{empresa.bairro.cidade.nome}} / {{empresa.bairro.cidade.estado.nome}} / {{empresa.bairro.cidade.estado.pais.nome}}</td> -->
                <!-- 				<td data-ng-show="view==3">{{empresa.bairro.cidade.estado.nome}} / {{empresa.bairro.cidade.estado.pais.nome}}</td> -->
                <!-- 				<td data-ng-show="view==4">{{empresa.bairro.cidade.estado.pais.nome}}</td> -->
                <td>
                    <!-- 					<a data-ng-click="editCargo(cargo)">  -->
                    <span class="glyphicon glyphicon-print"></span>
                    <!-- 					</a>  -->
                    <!-- 					<a data-ng-click="deleteEmpresa(empresa.id);msg.progress=true;"> -->
                    <span data-ng-click="deleteEmpresa(empresa.id);msg.progress=true;" class="glyphicon glyphicon-trash"></span>
                    <!-- 					</a> -->
                </td>
            </tr>
        </table>
    </div>
</div>
