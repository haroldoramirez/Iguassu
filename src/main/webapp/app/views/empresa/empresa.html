<div class="view"  ng-init="init()">
    <!-- data-ng-controller="EmpresaCtrl" -->
    <div class="page-header">
        <h1>Empresas</h1>
    </div>

    <div class="container-fluid" ng-include="'views/empresa/empresa_ferramentas.html'"></div>

    <accordion close-others="isOpen">

        <div style="margin-bottom: 5px;" ng-include="'views/empresa/empresa_dados.html'"></div>

        <div style="margin-bottom: 5px;" ng-include="'views/endereco/endereco.html'"></div>

    </accordion>


        <div class="btn-group btn-group-justified">
            <div class="btn-group">
                <button type="button"
                        class="btn btn-default"
                        data-ng-click="getEmpresa();">
                    <span class="glyphicon glyphicon-search">&nbspConsultar</span>
                </button>
            </div>
            <div class="btn-group">
                <button type="button"
                        class="btn btn-primary"
                        data-ng-disabled="empresa.nome==null"
                        data-ng-click="save();">
                    <span class="glyphicon glyphicon-save">&nbspSalvar</span>
                </button>
            </div>
            <div class="btn-group">
                <button type="button"
                        class="btn btn-default"
                        data-ng-click="empresa={}">
                    <span class="glyphicon glyphicon-file">&nbspLimpar</span>
                </button>
            </div>
        </div>

        <br/>

        <table class="table table-hover">
            <tr>
                <th>Nome</th>
                <th>CNPJ</th>
                <th>Endere√ßo</th>
            </tr>
            <tr data-ng-repeat="empresa in empresas">
                <td data-ng-click="isOpen = false; panel.open1 = true; panel.open2 = true; editEmpresa(empresa)" >{{empresa.nome}}</td>
                <td data-ng-click="isOpen = false; panel.open1 = true; panel.open2 = true; editEmpresa(empresa)">{{empresa.cnpj}}</td>
                <td data-ng-click="isOpen = false; panel.open1 = true; panel.open2 = true; editEmpresa(empresa)">{{empresa.endereco.rua}}</td>
                <td data-ng-click="isOpen = false; panel.open1 = true; panel.open2 = true; editEmpresa(empresa)">{{empresa.endereco.numero}}</td>
                <td data-ng-click="isOpen = false; panel.open1 = true; panel.open2 = true; editEmpresa(empresa)" data-ng-show="empresa.endereco.bairro.id">{{empresa.endereco.bairro.nome}} / {{empresa.endereco.bairro.cidade.nome}} / {{empresa.endereco.bairro.cidade.estado.nome}} / {{empresa.endereco.bairro.cidade.estado.pais.nome}}</td>
                <td data-ng-click="isOpen = false; panel.open1 = true; panel.open2 = true; editEmpresa(empresa)" data-ng-hide="empresa.endereco.bairro.id"></td>
            </tr>
        </table>
    </div>
</div>
