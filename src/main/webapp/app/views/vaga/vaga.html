<div class="view" ng-init="init()">
	<div class="page-header">
		<h1>Vagas</h1>
	</div>

    <div class="container-fluid" ng-include="'views/vaga/vaga_ferramentas.html'"></div>

	<accordion close-others="isOpen">

        <div style="margin-bottom: 5px;" ng-include="'views/vaga/vaga_dados.html'"></div>

        <div style="margin-bottom: 5px;" ng-include="'views/vaga/vaga_endereco.html'"></div>

	</accordion>

	<div class="col-xs-12 col-sm-12">
		<div class="btn-group btn-group-justified">
			<div class="btn-group">
				<button type="button"
                        class="btn btn-default"
                        data-ng-click="getVagas()">
                    <span class="glyphicon glyphicon-search">&nbspConsultar</span>
                </button>
			</div>
			<div class="btn-group">
				<button type="button"
                        class="btn btn-primary"
                        data-ng-disabled="!vaga.cargo.id"
                        data-ng-click="save()">
                    <span class="glyphicon glyphicon-save">&nbspSalvar</span>
                </button>
			</div>
			<div class="btn-group">
				<button type="button"
                        class="btn btn-default"
                        data-ng-click="limpar()">
                    <span class="glyphicon glyphicon-file">&nbspLimpar</span>
                </button>
			</div>
		</div>
			<br/>

        <div ng-include="'views/progress.html'"></div>
		
		<table class="table table-hover">
			<tr>
				<th>Cargo</th>
				<th>Empresa</th>
				<th>Salário</th>
				<th>Endereço</th>
				<th>Situação</th>
				<th></th>
			</tr>
			<tr data-ng-repeat="vaga in vagas">
				<td data-ng-click="isOpen = false; panel.open1 = true; panel.open2 = true; editVaga(vaga)">{{vaga.cargo.nome}}</td>
				<td data-ng-click="isOpen = false; panel.open1 = true; panel.open2 = true; editVaga(vaga)">{{vaga.empresa.nome}}</td>
				<td data-ng-click="isOpen = false; panel.open1 = true; panel.open2 = true; editVaga(vaga)">{{vaga.salario}}</td>
				<td data-ng-click="isOpen = false; panel.open1 = true; panel.open2 = true; editVaga(vaga)">{{vaga.endereco.bairro.nome}} / {{vaga.endereco.bairro.cidade.nome}} / {{vaga.endereco.bairro.cidade.estado.nome}} / {{vaga.endereco.bairro.cidade.estado.pais.nome}}</td>
				<td data-ng-click="isOpen = false; panel.open1 = true; panel.open2 = true; editVaga(vaga)">{{vaga.situacaoDaVaga}}</td>
				<td>
					<span data-ng-click="deleteVaga(vaga.id)" class="glyphicon glyphicon-trash"></span>
				</td>
			</tr>
		</table>
	</div>

</div>